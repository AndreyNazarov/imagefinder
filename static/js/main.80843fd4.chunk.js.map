{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ButtonLoadMore/ButtonLoadMore.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ButtonLoadMore/ButtonLoadMore.js","components/ImageGallery/ImageGallery.js","components/ImagesInfo/ImagesInfo.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","state","request","handleRequestChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","styles","searchbar","searchForm","this","type","button","buttonLabel","input","name","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","imageData","largeImageURL","tags","src","alt","image","ButtonLoadMore","addPage","classNames","Button","ButtonPosition","onClick","ImageGallery","images","map","img","id","Status","ImageInfo","status","fetchFromAPI","page","url","axios","get","then","prevState","data","hits","catch","prevProps","prevRequest","nextRequest","prevPage","nextPage","resetPage","length","window","scrollTo","top","document","documentElement","scrollHeight","behavior","margin","color","height","width","timeout","modalRoot","getElementById","Modal","handleKeyDown","e","code","onClose","handleBackDrop","target","addEventListener","removeEventListener","createPortal","Overlay","App","picture","showModal","handleFormSubmit","setPicture","nodeName","currentSrc","toogleModal","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.80843fd4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2HtYv\",\"image\":\"ImageGalleryItem_image__p6eOo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"ButtonLoadMore_Button__1k5_Q\",\"ButtonPosition\":\"ButtonLoadMore_ButtonPosition__1--Cf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__sh3Tz\",\"Modal\":\"Modal_Modal__3zwht\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1b7pq\"};","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport propTypes from \"prop-types\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    request: \"\",\r\n  };\r\n\r\n  static propTypes = {\r\n    onSubmit: propTypes.func.isRequired,\r\n  };\r\n\r\n  handleRequestChange = (event) => {\r\n    this.setState({ request: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.request.trim() === \"\") {\r\n      toast.error(\"Enter your request\");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.request);\r\n    this.setState({ request: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.searchbar}>\r\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span className={styles.buttonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.input}\r\n            name=\"request\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.request}\r\n            onChange={this.handleRequestChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import styles from \"./ImageGalleryItem.module.css\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ imageData }) => {\r\n  const { largeImageURL, tags } = imageData;\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img src={largeImageURL} alt={tags} className={styles.image} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imageData: propTypes.object.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import styles from \"./ButtonLoadMore.module.css\";\r\nimport classNames from \"classnames\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst ButtonLoadMore = ({ addPage }) => {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={classNames(styles.Button, styles.ButtonPosition)}\r\n      onClick={addPage}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButtonLoadMore.propTypes = {\r\n  addPage: propTypes.func.isRequired,\r\n};\r\n\r\nexport default ButtonLoadMore;\r\n","import styles from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport ButtonLoadMore from \"../ButtonLoadMore/ButtonLoadMore\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst ImageGallery = ({ images, addPage }) => {\r\n  return (\r\n    <div>\r\n      <ul className={styles.ImageGallery}>\r\n        {images.map((img) => (\r\n          <ImageGalleryItem key={img.id} imageData={img}></ImageGalleryItem>\r\n        ))}\r\n      </ul>\r\n      <ButtonLoadMore addPage={addPage}></ButtonLoadMore>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  addPage: propTypes.func.isRequired,\r\n  images: propTypes.arrayOf(propTypes.object.isRequired),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport axios from \"axios\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst Status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n\r\nexport default class ImageInfo extends Component {\r\n  state = {\r\n    request: null,\r\n    images: [],\r\n    error: null,\r\n    status: Status.IDLE,\r\n  };\r\n\r\n  static propTypes = {\r\n    addPage: propTypes.func.isRequired,\r\n    resetPage: propTypes.func.isRequired,\r\n    page: propTypes.number.isRequired,\r\n    request: propTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevRequest = prevProps.request;\r\n    const nextRequest = this.props.request;\r\n    const prevPage = prevProps.page;\r\n    const nextPage = this.props.page;\r\n\r\n    if (prevRequest !== nextRequest) {\r\n      this.setState({ status: Status.PENDING });\r\n      this.fetchFromAPI();\r\n      this.props.resetPage();\r\n    }\r\n\r\n    if (prevPage !== nextPage) {\r\n      this.setState({ status: Status.PENDING });\r\n      this.fetchFromAPI();\r\n    }\r\n\r\n    if (this.state.images.length !== prevState.images.length) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }\r\n\r\n  fetchFromAPI = () => {\r\n    const request = this.props.request;\r\n    const page = this.props.page;\r\n    const key = \"18616543-61f088c3928fc4bac834774e6\";\r\n    const url = `https://pixabay.com/api/?q=${request}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\r\n    axios\r\n      .get(url)\r\n      .then((images) => {\r\n        if (page > 1) {\r\n          this.setState((prevState) => ({\r\n            images: [...prevState.images, ...images.data.hits],\r\n          }));\r\n        }\r\n        if (page === 1) {\r\n          this.setState({ images: images.data.hits });\r\n        }\r\n        this.setState({ status: Status.RESOLVED });\r\n      })\r\n      .catch((error) => this.setState({ error, status: Status.REJECTED }));\r\n  };\r\n\r\n  render() {\r\n    const { images, error, status } = this.state;\r\n    if (status === \"idle\") {\r\n      return null;\r\n    }\r\n\r\n    if (status === \"pending\") {\r\n      return (\r\n        <div className=\"Loader\">\r\n          <Loader\r\n            margin=\"0 auto\"\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (status === \"rejected\") {\r\n      return <div>{error}</div>;\r\n    }\r\n\r\n    if (status === \"resolved\") {\r\n      return <ImageGallery images={images} addPage={this.props.addPage} />;\r\n    }\r\n  }\r\n}\r\n","import styles from \"./Modal.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { Component } from \"react\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onClose: propTypes.func.isRequired,\r\n    image: propTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackDrop = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackDrop}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.image} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImagesInfo from \"./components/ImagesInfo/ImagesInfo\";\nimport Modal from \"./components/Modal/Modal\";\n\nexport default class App extends Component {\n  state = {\n    request: \"\",\n    images: [],\n    picture: \"\",\n    page: 1,\n    showModal: false,\n  };\n\n  handleFormSubmit = (request) => {\n    this.setState({ request });\n  };\n\n  setPicture = (e) => {\n    if (e.target.nodeName !== \"IMG\") {\n      return;\n    }\n    this.setState({ picture: e.target.currentSrc });\n    this.toogleModal();\n  };\n\n  toogleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  addPage = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  resetPage = () => {\n    this.setState({ page: 1 });\n  };\n\n  render() {\n    return (\n      <div onClick={this.setPicture} className=\"App\">\n        {this.state.showModal && (\n          <Modal image={this.state.picture} onClose={this.toogleModal}></Modal>\n        )}\n        <Searchbar onSubmit={this.handleFormSubmit}></Searchbar>\n        <ImagesInfo\n          request={this.state.request}\n          page={this.state.page}\n          addPage={this.addPage}\n          resetPage={this.resetPage}\n        />\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}